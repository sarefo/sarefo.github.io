<!DOCTYPE html>
<html lang="en">
<head>
    <title>DuoNat â€¢ iNat Taxonomy Trainer</title>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta http-equiv="Cache-Control" content="no-cache">

    <!-- For iOS devices -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- For Android devices -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#74ac00">

    <!-- cache busting by appending version code. change code in script!-->
    <script src="./code/version.js" defer></script>

    <link rel="manifest" href="./manifest.json">
    <script type="module" src="./code/functions.js" defer></script>

    <link rel="stylesheet" href="./css/base.css">
    <link rel="stylesheet" href="./css/components.css">

    <link rel="icon" href="./images/favicon.png" type="image/png">
  <!--  <link rel="preload" href="./images/icons.svg" as="image" type="image/svg+xml"> -->
</head>

<body>

<div id="loading-screen">
    <div class="loading-content">
        <img src="./images/icon-512x512.png" alt="DuoNat logo" class="loading-logo">
        <h1><span class="duo">Duo</span><span class="nat">Nat</span></h1>
        <p>Loading amazing creatures...</p>
        <div class="loading-spinner"></div>
    </div>
</div>

<div class="button-column">
    <button id="share-button" title="Share this pair">
        <svg class="icon"><use href="./images/icons.svg#icon-share"/></svg>
    </button>
<!--    <button id="like-button" title="Add to favorites">
        <svg class="icon"><use href="./images/icons.svg#icon-heart"/></svg>
    </button>
    <button id="trash-button" title="Don't use this pair">
        <svg class="icon"><use href="./images/icons.svg#icon-trash"/></svg>
    </button>-->
</div>

<button id="help-button" title="Help">
    <svg class="icon"> <use href="./images/icons.svg#icon-help"/></svg>
</button>

<dialog id="help-dialog">
    <img src="./images/icon-512x512.png" alt="DuoNat logo" class="background-logo">
    <h2><span style="color: var(--primary-counter-color);">Duo</span><span style="color: var(--primary-color);">Nat</span>
    <br><span style="color: var(--dark-neutral-color);">iNat Taxonomy Trainer</span></h2>
    <div class="help-content">

        <div class="help-item">
            <svg class="icon"><use href="./images/icons.svg#icon-drag"/></svg>
            <p>Drag name to image</p>
        </div>

        <div class="help-item">
            <svg class="icon"> <use href="./images/icons.svg#icon-left"/></svg>
            <p>Swipe left for new taxon pair</p>
        </div>

        <div class="help-item">
            <svg class="icon"> <use href="./images/icons.svg#icon-up"/></svg>
            <p>Scroll down for more</p>
        </div>

        <div class="help-item">
            <svg class="icon"> <use href="./images/icons.svg#icon-share"/></svg>
            <p>Share current taxon pair</p>
        </div>
        <!--
        <div class="help-item">
            <svg class="icon"> <use href="./images/icons.svg#icon-keyboard"/></svg>
            <p>Keyboard shortcuts: R (Random), S (Select), H (Help), I/O (Info)</p>
        </div>
        -->
        <button id="start-tutorial-button">Start Tutorial</button>
        <button id="discord-help-dialog">Join us on Discord</button>

    </div>
    <button id="close-help-dialog">I'm good!</button>
</dialog>

<div class="game-container">

    <div class="image-container" id="image-container-1">
        <img src="" alt="Taxon 1" id="image-1">
        <div id="drop-1" class="droppable"></div>
        <button class="info-button" id="info-button-1" title="View on iNaturalist">
            <svg class="icon"><use href="./images/icons.svg#icon-info"/></svg>
        </button>
    </div>

    <div class="name-pair">

        <div id="left-name-container">
            <div id="left-name" class="draggable" draggable="true" title=""></div>
        </div>

        <div id="right-name-container">
            <div id="right-name" class="draggable" draggable="true" title=""></div>
        </div>

        <div id="overlay">
            <div id="overlay-message"></div>
        </div>
  
    </div>

    <div class="image-container" id="image-container-2">
        <img src="" alt="Taxon 2" id="image-2">
        <div id="drop-2" class="droppable"></div>
        <button class="info-button" id="info-button-2" title="View on iNaturalist">
            <svg class="icon"><use href="./images/icons.svg#icon-info"/></svg>
        </button>
    </div>

</div> <!-- game-container -->

    <div class="scrollable-content">

        <div class="button-container">
            <div class="button-row">
                <button class="bottom-button" id="random-pair-button">Random pair</button>
                <button class="bottom-button" id="select-pair-button">Select pair</button>
            </div>
            <div class="button-row">
                <button class="bottom-button" id="enter-pair-button">Enter pair</button>
                <button class="bottom-button" id="surprise-button">Surprise</button>
            </div>
        </div>

      <!--  <div><a id="home-link" href="../index.html">Home</a></div> -->
        <div id="version-id"></div>

    </div>

    <!-- only visible when opened in app-->
    <dialog id="enter-pair-dialog">
        <form method="dialog">
            <h2>Enter New Taxon Pair</h2>
            <div>
                <label for="taxon1">Taxon 1:</label>
                <input type="text" id="taxon1" required>
            </div>
            <div>
                <label for="taxon2">Taxon 2:</label>
                <input type="text" id="taxon2" required>
            </div>
            <div id="dialog-message"></div>
            <div class="dialog-buttons">
                <button type="button" id="close-dialog">Cancel</button>
                <button type="submit">Submit</button>
            </div>
        </form>
    </dialog>

<dialog id="inat-down-dialog">
  <h2>iNaturalist Unavailable</h2>
  <p>We're having trouble connecting to iNaturalist. This could be due to maintenance or temporary issues.</p>
  <button id="check-inat-status">Check iNaturalist Status</button>
  <button id="retry-connection">Retry Connection</button>
</dialog>

<div id="taxa-relationship-container" class="hidden">
  <div id="taxa-relationship-graph"></div>
  <button id="close-relationship-button">Close</button>
</div>

<dialog id="info-dialog" class="info-dialog">
  <h2>Image Information</h2>
  <div class="info-dialog-buttons">
    <button id="photo-button" class="info-dialog-button">Photo Page</button>
    <button id="observation-button" class="info-dialog-button">Observation (TODO)</button>
    <button id="taxon-button" class="info-dialog-button">Taxon (TODO)</button>
    <button id="relationship-button" class="info-dialog-button">Taxon relationship</button>
  </div>
  <button id="close-info-dialog" class="close-dialog-button">Close</button>
</dialog>

</body>
</html>
